<?xml version="1.0" ?>
<odoo>
    <!-- Vista formulario para cotizaciones -->
    <record id="cotizaciones_form_view" model="ir.ui.view">
        <field name="name">cotizaciones.form.view</field>
        <field name="model">wp.cotizaciones</field>
        <field name="arch" type="xml">
            <form string="Cotizaciones">
                <sheet>
                    <header>
                        <button name="btn_cancelar" string="Cancelar" type="object" states="pendiente" class="oe_highlight"/>
                        <field name="state" widget="statusbar" />
                    </header>
                    <group>
                        <field name="id"/>
                    </group>
                    <group>
                        <group name="group_left">
                            <field name="cliente" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                            <field name="cuit"/>
                            <field name="direccion"/>
                            <field name="telefono"/>
                            <field name="email"/>
                        </group>
                        <group  name="group_right">
                            <field name="fecha_emision"/>
                            <field name="fecha_vigencia"/>
                            <field name="fecha_aceptacion" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                            <field name="cantidad_cursos" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                            <field name="cantidad_alumnos" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                        </group>
                    </group>
                    <group>
                        <field name="cotizacion_detalle_line_ids" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                    </group>
                    <group>
                        <group>
                            <field name="importe" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                            <field name="descuento" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                            <field name="iva" attrs="{'readonly': [('state', '=', 'cancelada')]}"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Vista tree para cotizaciones -->
    <record id="cotizaciones_tree_view" model="ir.ui.view">
        <field name="name">cotizaciones.tree.view</field>
        <field name="model">wp.cotizaciones</field>
        <field name="arch" type="xml">
            <tree string="Cotizaciones" decoration-success="state == 'pendiente'" decoration-info="state == 'aceptada'" decoration-danger="state == 'vencida'" decoration-muted="state == 'cancelada'">
                <field name="fecha_emision"/>
                <field name="fecha_vigencia"/>
                <field name="fecha_aceptacion"/>
                <field name="state" widget="badge" decoration-info="state == 'pendiente'" decoration-success="state == 'aceptada'" decoration-danger="state == 'vencida'" decoration-muted="state == 'cancelada'"/>
                <field name="cantidad_cursos"/>
                <field name="cantidad_alumnos"/>
                <field name="importe"/>
                <field name="cliente" widget="selection"/>
            </tree>
        </field>
    </record>
</odoo>